{{define "instances_panel.html"}}
{{if .Instances}}
<div class="instances-list">
    {{range .Instances}}
    <div class="instance-card">
        <div class="instance-header">
            <div class="instance-status">
                <span class="instance-status-dot running"></span>
                <span class="instance-pid">PID {{.PID}}</span>
            </div>
            <span class="instance-uptime">{{.Uptime}}</span>
        </div>
        <div class="instance-project">
            {{if .ProjectName}}
            <span class="instance-project-name">{{.ProjectName}}</span>
            {{else}}
            <span class="instance-project-unknown">Unknown Project</span>
            {{end}}
        </div>
        {{if .WorkingDir}}
        <div class="instance-dir" title="{{.WorkingDir}}">
            <svg viewBox="0 0 16 16" fill="currentColor" class="instance-dir-icon">
                <path d="M1 3.5A1.5 1.5 0 012.5 2h3.879a1.5 1.5 0 011.06.44l1.122 1.12A1.5 1.5 0 009.62 4H13.5A1.5 1.5 0 0115 5.5v7a1.5 1.5 0 01-1.5 1.5h-11A1.5 1.5 0 011 12.5v-9z"/>
            </svg>
            <span class="instance-dir-path">{{shortPath .WorkingDir 2}}</span>
        </div>
        {{end}}
        {{if .HasTasks}}
        <div class="instance-tasks">
            <a href="/lists/{{.SessionID}}" class="instance-tasks-link">
                <svg viewBox="0 0 16 16" fill="currentColor">
                    <path d="M2 2h12v2H2V2zm0 4h12v2H2V6zm0 4h8v2H2v-2z"/>
                </svg>
                {{.TaskCount}} task{{if gt .TaskCount 1}}s{{end}}
            </a>
        </div>
        {{end}}
    </div>
    {{end}}
</div>
{{else}}
<div class="instances-empty">
    <div class="instances-empty-icon">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
            <circle cx="12" cy="12" r="10"/>
            <path d="M12 6v6l4 2"/>
        </svg>
    </div>
    <p>No Claude instances running</p>
</div>
{{end}}
{{end}}
